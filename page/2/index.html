<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>realyoume - blog</title><meta name="author" content="realyoume"><meta name="copyright" content="realyoume"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="realyoume">
<meta property="og:url" content="http://realyoume.github.io/page/2/index.html">
<meta property="og:site_name" content="realyoume">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://realyoume.github.io/pic/avatar.png">
<meta property="article:author" content="realyoume">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://realyoume.github.io/pic/avatar.png"><link rel="shortcut icon" href="/pic/favicon.png"><link rel="canonical" href="http://realyoume.github.io/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":600},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'realyoume',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-01-15 23:35:25'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/pic/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">79</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">57</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">realyoume</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/30/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98/" title="初学多级缓存"><img class="post_bg" src="https://pic1.zhimg.com/80/v2-a196f39112d5287f0214eb50b94563ce_720w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="初学多级缓存"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/30/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98/" title="初学多级缓存">初学多级缓存</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-30T13:27:00.000Z" title="发表于 2023-05-30 21:27:00">2023-05-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="content">[2023年5月30日]
背景传统缓存的问题
传统的缓存策略一般是请求到达Tomcat后，先查询Redis，如果未命中则查询数据库

请求要经过Tomcat处理，Tomcat的性能成为整个系统的瓶颈
Redis缓存失效时，会对数据库产生冲击

多级缓存方案
多级缓存就是充分利用请求处理的每个环节，分别添加缓存，减轻Tomcat压力，提升服务性能
用作缓存的Nginx是业务Nginx，需要部署为集群，再有专门的Nginx用来做反向代理

JVM 进程缓存CaffeineCaffeine是一个基于Java8开发的，提供了近乎最佳命中率的高性能的本地缓存库。
类似于 Map, 将数据保存在 JVM 内存中
基本用法
12345678910Cache&lt;String, String&gt; cache = Caffeine.newBuilder().build();cache.put(&quot;name&quot;, &quot;yumi&quot;);// 不存在则返回 nullString name = cache.getIfPresent(&quot;name&quot;);Sys ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/29/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6Redis%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/" title="初学 Redis 分布式缓存"><img class="post_bg" src="https://pic2.zhimg.com/v2-d9bc3c1899c4a2dbe8cd692677b07559_b.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="初学 Redis 分布式缓存"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/29/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6Redis%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/" title="初学 Redis 分布式缓存">初学 Redis 分布式缓存</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-29T11:51:00.000Z" title="发表于 2023-05-29 19:51:00">2023-05-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="content">[2023年5月29日]
单点 Redis 问题
数据丢失问题
并发能力问题
故障恢复问题 
存储能力问题

Redis 持久化redis 自带功能，可以通过配置文件来定义
RDBRedis Database Backup file 
把内存中的数据保存到硬盘中
快速开始1save

主进程执行，会阻塞所有命令
1bgsave

开启子进程执行 RDB 

Redis 停机时会自动执行 RDB（正常停机）

高级配置
redis.conf
1234567891011121314# save time count # 自动保存，如果指定时间内有指定次数的修改save 900 1save 300 10save 60 10000# 是否压缩rdbcompression yes# rdb文件名称dbfilename dump.rdb# 文件保存路径dir ./

bgsave开始时会fork主进程得到子进程，子进程共享主进程的内存数据。完成fork后读取内存数据并写入RDB文件。

fork 
copy-on-write
当主进程执行读操作时，访问共享内存;当主进程执行写操作时，则会拷贝一份数 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/25/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6seata/" title="初学seata"><img class="post_bg" src="https://picx.zhimg.com/80/v2-73b8307b2db44c617f4e8515ce67dd39_720w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="初学seata"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/25/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6seata/" title="初学seata">初学seata</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-25T04:43:00.000Z" title="发表于 2023-05-25 12:43:00">2023-05-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="content">[2023年5月25日]
分布式事务ACID 原则
原子性
一致性
隔离性
持久性

问题在分布式系统中，业务跨越多个服务或数据源，每个服务都是一个分支，要保证所有的分支状态一致性。
CAP 定理
一致性 用户访问任意节点，得到的数据是一致的
可用性 访问节点一定是可用的
分区容错性 因网络问题出现分区时，也要提供服务

分布式系统最多满足三者中的两者
一般来说，分区是无法避免的，所以要么 CP，要么 AP
BASE 理论BASE 理论是对 CAP 的一种解决思路

Basically Available 基本可用
Soft State 软状态
Eventually Consitent 最终一致性

SeataSeata 是一款开源的分布式事务解决方案，致力于在微服务架构下提供高性能和简单易用的分布式事务服务
术语
TC (Transaction Coordinator) - 事务协调者维护全局和分支事务的状态，驱动全局事务提交或回滚。

TM (Transaction Manager) - 事务管理器定义全局事务的范围：开始全局事务、提交或回滚全局事务。

RM (Resource  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/22/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6sentinel/" title="初学sentinel"><img class="post_bg" src="https://pic1.zhimg.com/80/v2-a196f39112d5287f0214eb50b94563ce_720w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="初学sentinel"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/22/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6sentinel/" title="初学sentinel">初学sentinel</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-22T10:31:00.000Z" title="发表于 2023-05-22 18:31:00">2023-05-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="content">[2023年5月22日]
SentinelSentinel 是阿里巴巴开源的一款微服务流量控制组件
雪崩问题
微服务雪崩是指在微服务架构中，由于某个微服务的不可用或延迟，导致依赖该微服务的其他微服务也不可用或延迟，最终导致整个系统不可用的现象。
核心：避免 tomcat 的连接数超过上限
处理方式

超时处理：超时后终止
舱壁模式：限制每个业务的线程数
熔断降级：通过断路器统计异常业务的比例，超过阈值就熔断该业务
流量控制：限制业务的 QPS（预防雪崩）

快速开始启动控制台
1java -jar .\sentinel-dashboard-1.8.1.jar

访问 localhost:8080
引入依赖
12345&lt;!--sentinel--&gt;&lt;dependency&gt;    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;    &lt;artifactId&gt;spring-cloud-starter-alibaba-sentinel&lt;/artifactId&gt;&lt;/dependency&gt; ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/18/%E7%94%B5%E5%BD%B1/%E3%80%8A%E9%9B%B7%E7%A5%9E4%EF%BC%9A%E7%88%B1%E4%B8%8E%E9%9B%B7%E9%9C%86%E3%80%8B/" title="《雷神4：爱与雷霆》"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/realyoume/pic/img/202305301354822.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="《雷神4：爱与雷霆》"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/18/%E7%94%B5%E5%BD%B1/%E3%80%8A%E9%9B%B7%E7%A5%9E4%EF%BC%9A%E7%88%B1%E4%B8%8E%E9%9B%B7%E9%9C%86%E3%80%8B/" title="《雷神4：爱与雷霆》">《雷神4：爱与雷霆》</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-18T14:21:00.000Z" title="发表于 2023-05-18 22:21:00">2023-05-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%94%B5%E5%BD%B1/">电影</a></span></div><div class="content">[2023年5月18日]
雷神的第四部，接的是复联4的剧情，雷神和银护小队分离。
为什么总有打不完的反派呢，而且反派的实力飘忽不定，这个问题不能细想，反正看着高兴就行。
没有想到的是最后的小女孩好像还挺重要，之后可能还会出场，宙斯也没有死，派出他的儿子阿喀琉斯，这波是希腊神话对战北欧神话。
太空维京人，死后进入英灵殿，圆上了之前的铺垫。
众神聚会那一段也很有意思，还有包子神。
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/14/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6Dubbo/" title="初学Dubbo"><img class="post_bg" src="https://picx.zhimg.com/80/v2-f85f658e4f785d48cf04dd8f47acc6fa_720w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="初学Dubbo"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/14/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%88%9D%E5%AD%A6Dubbo/" title="初学Dubbo">初学Dubbo</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-14T12:03:00.000Z" title="发表于 2023-05-14 20:03:00">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="content">[2023年5月14日]
分布式系统互联网项目特点
用户多
流量大，并发高
海量数据
易受攻击
功能繁琐
变更快

大型互联网项目架构目标
高性能

响应时间

并发数

并发连接数
请求数
并发用户数


吞吐量

QPS 每秒查询数

TPS 每秒事务数
请求到相应的整个过程，包含多个查询和连接





高可用
服务一直可以访问

可伸缩
增减硬件

高可扩展
系统间耦合低，增加、减少模块

安全性

敏捷性
快速响应


集群和分布式集群：一个业务模块，部署在多台服务器上
分布式：一个大的业务系统，拆分成小的业务模块，分别部署在不同的机器上
架构演进单体架构 垂直架构 分布式架构 SOA架构 微服务架构  
Dubbo什么是 DubboDubbo 是一个开源的、高性能的、轻量级的 Java RPC 框架
什么是 zookeeper一个注册中心
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/12/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%85%AB%E8%82%A1-Spring&amp;SpringBoot/" title="八股-Spring&amp;SpringBoot"><img class="post_bg" src="https://picx.zhimg.com/80/v2-f85f658e4f785d48cf04dd8f47acc6fa_720w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="八股-Spring&amp;SpringBoot"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/12/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%85%AB%E8%82%A1-Spring&amp;SpringBoot/" title="八股-Spring&amp;SpringBoot">八股-Spring&amp;SpringBoot</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-12T11:09:00.000Z" title="发表于 2023-05-12 19:09:00">2023-05-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="content">[2023年5月12日]
Spring开源轻量 Java 开发框架，旨在提升开发人员的开发效率以及系统的可维护性
Spring FrameWork

IOC AOP
方便访问数据库
方便集成第三方组件

SprngMVC SpringBootSpringMVC 是 Spring 中一个很重要的模块
SpringMVC 赋予了 Spring 快速构建 MVC 架构的 Web 程序的能力，
MVC 是模型(Model)、视图(View)、控制器(Controller)的简写，其核心思想是通过将业务逻辑、数据、显示分离来组织代码。
使用 Spring 进行开发时要进行各种繁重的配置，如XML或者Java配置类，SpringBoot遵循采用默认配置的原则，简化了这些配置，真正做到了开箱即用
SpringIOCIOC控制反转
核心思想 将创建对象的控制权交给IOC容器管理
优点 不用处理复杂的依赖关系 提高了项目的可维护性
方法 注解或配置类文件
IoC 容器是 Spring 用来实现 IoC 的载体， IoC 容器实际上就是个 Map（key，value），Map 中存放的是各种对象
Spri ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/11/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%85%AB%E8%82%A1-Mysql/" title="八股-Mysql"><img class="post_bg" src="https://pic2.zhimg.com/v2-d9bc3c1899c4a2dbe8cd692677b07559_b.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="八股-Mysql"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/11/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%85%AB%E8%82%A1-Mysql/" title="八股-Mysql">八股-Mysql</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-11T13:06:00.000Z" title="发表于 2023-05-11 21:06:00">2023-05-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="content">[2023年5月11日]
范式
第一范式 属性不可再分，关系型数据库的基本要求
第二范式 消除了非主属性对码的部分函数依赖
第三范式 消除了非主属性对码的传递函数依赖
BCNF 消除了主属性对码的部分函数依赖

为什么不推荐使用外键与级联
增加了复杂性和额外工作
对分库分表不友好

drop truncate deletedrop:删除表的数据和结构
turncate:删除表的数据，保留表的结构
delete:删除一行数据，如果不加 where 修饰，则删除全部数据
数据库设计通常分为哪几步?
需求分析
概念结构设计
逻辑结构设计
物理结构设计
数据库实施
数据库运行和维护

NoSQL泛指非关系型的数据库
支持分布式，数据冗余和数据分片，旨在提供高可用高性能的数据库解决方案

键值 Redis
文档 MongoDB
图形 Neo4j
宽列 HBase

优点：

灵活性
提供灵活的框架，支持快速迭代

可扩展性
用分布式硬件来横向扩展

高性能
对特定的数据模型和访问模式进行优化

强大的功能
强大的 API 和数据结构


Mysql 字符集一般用 utf8
特殊的用 utf8mb ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/11/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%85%AB%E8%82%A1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="八股-操作系统"><img class="post_bg" src="https://pic2.zhimg.com/v2-d9bc3c1899c4a2dbe8cd692677b07559_b.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="八股-操作系统"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/11/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%85%AB%E8%82%A1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="八股-操作系统">八股-操作系统</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-11T06:10:00.000Z" title="发表于 2023-05-11 14:10:00">2023-05-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="content">[2023年5月11日]
什么是操作系统？
本质上是一个程序，帮助我们管理计算机软硬件资源，是计算机系统的基石
屏蔽了底层硬件复杂性
内核是操作系统的核心，负责内存管理，硬件管理，文件管理，进程管理
内核是连接应用程序和硬件的桥梁，决定着系统的性能和稳定性

核心功能

进程和线程管理
存储管理（内存，外存）
文件系统管理
设备管理
网络管理
安全管理

用户态和内核态CPU 执行代码的两种状态，有不同的权限
用户态：用户的应用程序处于这一状态，具有较低的权限，只能读取应用程序的数据
内核态：最高的权限，可用访问任意资源，一般是执行系统代码
用户态切换到内核态

系统调用
中断
异常

什么是系统调用系统调用是内核提供的接口，方便用户程序调用，在内核态下完成对重要资源的操作。
进程 线程进程
一个正在运行的程序实例
是操作系统进行资源分配和管理的基本单位
不同进程独立程度高，有利于管理
进程创建、切换开销大
线程
是进程中的执行单位
一个进程可以有多个线程
不同线程可以共享资源，不利于管理
创建、切换开销小
进程有哪几种状态?
创建状态
就绪状态
运行状态
阻塞状态
结束状态
就绪挂起 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/10/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%85%AB%E8%82%A1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" title="八股-计算机网络"><img class="post_bg" src="https://picx.zhimg.com/80/v2-3fcdfeacc10696e3f71d66a9ba6e9cc4_720w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="八股-计算机网络"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/10/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%85%AB%E8%82%A1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" title="八股-计算机网络">八股-计算机网络</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-10T11:06:00.000Z" title="发表于 2023-05-10 19:06:00">2023-05-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="content">[2023年5月10日]
OSI 七层模型
应用层 为计算机用户提供服务
表示层 数据处理（编码解码，加密解密，压缩解压）
会话层 管理应用程序之间的会话
传输层 为两个主机进程之间的通信提供通用的数据传输服务，端对端
网络层 路由和寻址（决定数据在网路中的游走路径）
数据链路层 帧编码和误差纠正控制
物理层 透明传输比特流

TCP&#x2F;IP 四层模型
应用层
传输层
网络层
网络接口层

协议应用层协议 :

HTTP 协议（超文本传输协议，网页浏览常用的协议）
DHCP 协议（动态主机配置）
DNS 系统原理（域名系统）
FTP 协议（文件传输协议）
Telnet协议（远程登陆协议）
SSH
电子邮件协议等（SMTP、POP3、IMAP）

传输层协议 :

TCP 协议 
UDP 协议

网络层协议 :

IP 协议（TCP&#x2F;IP 协议的基础，分为 IPv4 和 IPv6）
ARP 协议（地址解析协议，用于解析 IP 地址和 MAC 地址之间的映射）
ICMP 协议（控制报文协议，用于发送控制消息）
NAT 协议（网络地址转换协议,内网地址映射到外网地址）
RI ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/#content-inner">8</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/pic/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">realyoume</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">79</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">57</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/realyoume"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/realyoume" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/15/%E8%AE%A1%E7%AE%97%E6%9C%BA/Centos7%E5%AE%89%E8%A3%85Docker/" title="Centos7安装Docker"><img src="https://pic3.zhimg.com/80/v2-904505bcf0c424788f6028b8952aa2e7_720w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Centos7安装Docker"/></a><div class="content"><a class="title" href="/2024/01/15/%E8%AE%A1%E7%AE%97%E6%9C%BA/Centos7%E5%AE%89%E8%A3%85Docker/" title="Centos7安装Docker">Centos7安装Docker</a><time datetime="2024-01-15T15:21:13.386Z" title="更新于 2024-01-15 23:21:13">2024-01-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/08/%E8%AE%A1%E7%AE%97%E6%9C%BA/C++11%E7%B2%BE%E7%A1%AE%E8%AE%A1%E6%97%B6%E6%96%B9%E6%A1%88/" title="C++11精确计时方案"><img src="https://pic1.zhimg.com/80/v2-8cad20bbb75b352e5290001bbc3cb9cf_720w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++11精确计时方案"/></a><div class="content"><a class="title" href="/2024/01/08/%E8%AE%A1%E7%AE%97%E6%9C%BA/C++11%E7%B2%BE%E7%A1%AE%E8%AE%A1%E6%97%B6%E6%96%B9%E6%A1%88/" title="C++11精确计时方案">C++11精确计时方案</a><time datetime="2024-01-08T15:07:12.429Z" title="更新于 2024-01-08 23:07:12">2024-01-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/08/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux%E7%BB%91%E5%AE%9A%E8%BF%9B%E7%A8%8B%E4%B8%8ECPU/" title="Linux绑定进程与CPU"><img src="https://pic3.zhimg.com/80/v2-904505bcf0c424788f6028b8952aa2e7_720w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux绑定进程与CPU"/></a><div class="content"><a class="title" href="/2024/01/08/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux%E7%BB%91%E5%AE%9A%E8%BF%9B%E7%A8%8B%E4%B8%8ECPU/" title="Linux绑定进程与CPU">Linux绑定进程与CPU</a><time datetime="2024-01-08T15:05:24.808Z" title="更新于 2024-01-08 23:05:24">2024-01-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/01/%E8%AE%A1%E7%AE%97%E6%9C%BA/RabbitMQ%E8%BF%9B%E9%98%B6/" title="RabbitMQ进阶"><img src="https://image-xyz.obs.cn-east-3.myhuaweicloud.com/202401082303098.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RabbitMQ进阶"/></a><div class="content"><a class="title" href="/2023/06/01/%E8%AE%A1%E7%AE%97%E6%9C%BA/RabbitMQ%E8%BF%9B%E9%98%B6/" title="RabbitMQ进阶">RabbitMQ进阶</a><time datetime="2024-01-08T15:03:42.933Z" title="更新于 2024-01-08 23:03:42">2024-01-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/06/%E7%94%B5%E5%BD%B1/%E3%80%8A%E5%9E%AB%E5%BA%95%E8%BE%A3%E5%A6%B9%E3%80%8B/" title="《垫底辣妹》"><img src="https://image-xyz.obs.cn-east-3.myhuaweicloud.com/202401082301497.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="《垫底辣妹》"/></a><div class="content"><a class="title" href="/2023/06/06/%E7%94%B5%E5%BD%B1/%E3%80%8A%E5%9E%AB%E5%BA%95%E8%BE%A3%E5%A6%B9%E3%80%8B/" title="《垫底辣妹》">《垫底辣妹》</a><time datetime="2024-01-08T15:01:37.721Z" title="更新于 2024-01-08 23:01:37">2024-01-08</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%97%A5%E5%B8%B8/"><span class="card-category-list-name">日常</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%94%B5%E5%BD%B1/"><span class="card-category-list-name">电影</span><span class="card-category-list-count">17</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"><span class="card-category-list-name">计算机</span><span class="card-category-list-count">43</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%AF%BE%E7%A8%8B/"><span class="card-category-list-name">课程</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%98%85%E8%AF%BB/"><span class="card-category-list-name">阅读</span><span class="card-category-list-count">4</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 1.1em; color: #999">AI</a> <a href="/tags/Bochs/" style="font-size: 1.1em; color: #999">Bochs</a> <a href="/tags/C/" style="font-size: 1.23em; color: #999ea6">C++</a> <a href="/tags/CentOS/" style="font-size: 1.23em; color: #999ea6">CentOS</a> <a href="/tags/Docker/" style="font-size: 1.1em; color: #999">Docker</a> <a href="/tags/Dubbo/" style="font-size: 1.1em; color: #999">Dubbo</a> <a href="/tags/Eureka/" style="font-size: 1.1em; color: #999">Eureka</a> <a href="/tags/Feign/" style="font-size: 1.1em; color: #999">Feign</a> <a href="/tags/Gateway/" style="font-size: 1.1em; color: #999">Gateway</a> <a href="/tags/Go/" style="font-size: 1.37em; color: #99a4b2">Go</a> <a href="/tags/Http/" style="font-size: 1.1em; color: #999">Http</a> <a href="/tags/Java/" style="font-size: 1.5em; color: #99a9bf">Java</a> <a href="/tags/Linux/" style="font-size: 1.1em; color: #999">Linux</a> <a href="/tags/Mysql/" style="font-size: 1.23em; color: #999ea6">Mysql</a> <a href="/tags/Nacos/" style="font-size: 1.37em; color: #99a4b2">Nacos</a> <a href="/tags/Nginx/" style="font-size: 1.1em; color: #999">Nginx</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">79</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-08-19T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">94.5k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-01-15T15:35:25.183Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://pic1.zhimg.com/v2-83876de3f901861a2939eaf66f30050c_r.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By realyoume</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>